<div class="contenedor">
  <aside class="panel-rutas" *ngIf="mostrarPanelRutas">
    <h3>ğŸ—‚ï¸ Rutas guardadas</h3>

    <ul class="lista-rutas">
      <li
        *ngFor="let ruta of rutas"
        (click)="centrarRuta(ruta)"
        class="item-ruta"
        [class.seleccionada]="rutaSeleccionada?.id === ruta.id"
        [title]="'Ver detalles de ' + (ruta.nombre_ruta || 'Ruta sin nombre')"
      >
        <span class="color" [style.backgroundColor]="ruta.color_hex || '#007bff'"></span>
        <span class="nombre">{{ ruta.nombre_ruta || 'Sin nombre' }}</span>
      </li>
    </ul>

    <button class="btn-cerrar" (click)="togglePanelRutas()">âœ– Cerrar</button>
  </aside>

  <section id="mapa" class="mapa" aria-label="Mapa interactivo"></section>

  <div class="acciones-superior">
    <button class="btn btn-primary" (click)="abrirModalGuardarRuta()">ğŸ’¾ Guardar ruta</button>
    <button class="btn btn-secondary" (click)="resetMapa()">â™»ï¸ Limpiar mapa</button>
    <button class="btn btn-success" (click)="togglePanelRutas()">
      ğŸ“ {{ mostrarPanelRutas ? 'Ocultar rutas' : 'Ver rutas guardadas' }}
    </button>
  </div>

  <div *ngIf="mostrarModal" class="modal">
    <div class="modal-contenido">
      <h3>Guardar ruta</h3>
      <input
        id="nombre"
        name="nombre"
        type="text"
        [(ngModel)]="nombreRuta"
        placeholder="Ejemplo: Ruta principal"
        class="input-texto"
      />
      <div class="acciones-modal">
        <button class="btn-guardar" (click)="confirmarGuardarRuta()">ğŸ’¾ Guardar</button>
        <button class="btn-cancelar" (click)="cancelarGuardarRuta()">âŒ Cancelar</button>
      </div>
    </div>
  </div>
</div>
